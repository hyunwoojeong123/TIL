# 캐시의 지역성

> 캐시는 속도가 빠른 장치와 느린 장치 간의 속도차에 따른 병목 현상을 줄이기 위한 범용 메모리

이 역할 수행 위해서 CPU가 어떤 데이터를 원할지 어느 정도 예측해야 한다. 

이 적중률을 극대화 하기 위해 데이터 `Locality의 원리` 를 사용한다.

전제 조건은 프로그램은 모든 코드나 데이터를 균등하게 Access하지 않는다는 특성이다.

즉, `Locality`란 어느 한 순간에 특정 부분을 집중적으로 참조하는 특성이다.



- 시간 지역성 : 최근에 참조된 주소의 내용은 곧 다음에 다시 참조된다.
- 공간 지역성 : 대부분의 실제 프로그램이 참조된 주소와 인접한 주소의 내용을 다시 참조한다.



### Caching line

캐시는 프로세서 가까이에 위치해서 빈번하게 사용되는 데이터를 놔두는 장소이다.

캐시에 데이터가 있어도 어디 저장되어 있는지 몰라서 뒤적거리며 찾는 시간이 오래 걸리면 캐시 쓰는 의미가 없다. 그래서 바로 접근해 출력 가능해야 한다.

그래서 캐시에 데이터 저장시 특정 자료구조를 사용해 묶음으로 저장하는데 이를 `Caching line`이라 한다.

다양한 주소에 있는 데이터를 사용하므로 자주 쓰는 데이터 주소는 흩어져 있다.

따라서 캐시에 저장하는 데이터에는 데이터 메모리 주소 등을 기록해둔 태그를 달아 둔다.

이러한 태그들의 묶음을 `Caching line`이라 하고, 메모리로부터 가져올 때도 Caching line을 기준으로 가져온다.

##### 종류

1. Full Associative
2. Set Associative
3. Direct Map