# 후위계산식

## 중위 -> 후위 변환

- 피연산자를 만나면 그대로 출력
- 연산자를 만나면 스택 상단의 연산자와 비교
  - 지금 넣으려는 연산자의 우선 순위가 더 크면 해당 연산자를 스택에 삽입
  - 작거나 같으면 스택 상단의 연산자를 출력하고 다시 반복
- 왼쪽 괄호가 나오면 스택에 삽입
- 오른쪽 괄호가 나오면 스택에서 왼쪽 괄호가 나올 때까지 모든 연산자 pop(삭제와 출력). 왼쪽 괄호는 삭제
- 처리할 문자가 표기식에 남아있지 않다면 스택에 남아있는 모든 연산자 pop(삭제와 출력)

```python
huwi = []
st = []
for oper in opers[::-1]:
    if oper in ['*', '-', '+']:
        if st == []:
            st.append(oper)
        else:
            while st != [] and prior[st[-1]] >= prior[oper]:
                huwi.append(st.pop())
            st.append(oper)
    else:
        huwi.append(oper)
while st != []:
    huwi.append(st.pop())
```



## 계산

수식을 왼쪽에서 오른쪽으로 스캔하면서

- 피연산자면 스택에 저장
- 연산자면 필요한 수만큼의 피연산자를 스택에 꺼내서 연산을 실행하고 연산결과를 다시 스택에 저장

하는 과정을 반복한다.

마지막에 스택에 남은 값이 연산 결과값이다.



```python
for each in huwi:
	if each in ['*', '-', '+']:
		A = st.pop()
		B = st.pop()
	if each == '*':
		st.append(A * B)
	elif each == '-':
		st.append(A - B)
	elif each == '+':
		st.append(A + B)
	else:
		st.append(each)
```

